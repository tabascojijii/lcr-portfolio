# Legacy Code Reviver: System Overview

## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›®çš„
ç ”ç©¶ç¾å ´ã«åŸ‹ã‚‚ã‚Œã¦ã„ã‚‹ã€Œå¤ã„ç’°å¢ƒã§ã—ã‹å‹•ã‹ãªã„ã‚³ãƒ¼ãƒ‰ã€ã‚’ã€ã‚³ãƒ¼ãƒ‰ã‚’ä¸€åˆ‡æ”¹å¤‰ã›ãšã«ã€ç¾ä»£ã®ç’°å¢ƒä¸Šã§ Docker ã‚³ãƒ³ãƒ†ãƒŠã‚’é€šã˜ã¦å®‰å…¨ãƒ»ç°¡ä¾¿ã«å®Ÿè¡Œã™ã‚‹ã€‚

## 2. ã‚³ã‚¢ãƒ»ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
---
### ðŸ›¡ï¸ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å…¬é–‹åˆ¶é™ã¨ä½ç½®ä»˜ã‘ã«ã¤ã„ã¦ (Disclosure)

> **æ³¨è¨˜ï¼šãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å…¬é–‹åˆ¶é™ã«ã¤ã„ã¦**
> 
> ç§ãŒä¸¦è¡Œã—ã¦é–‹ç™ºã—ã¦ã„ã‚‹ã‚³ã‚¢ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ **ã€ŽMaltilabelerã€** ã¯ã€1.3ä¸‡è¡Œã‚’è¶…ãˆã‚‹è¦æ¨¡ã§ã‚ã‚Šã€ç‰¹å®šã®ç ”ç©¶ãƒ‰ãƒ¡ã‚¤ãƒ³ã«ãŠã‘ã‚‹é«˜åº¦ãªæ©Ÿå¯†æ€§ã‚’å«ã‚“ã§ã„ã¾ã™ã€‚ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ã¨ã—ã¦ã®æƒ…å ±ç®¡ç†ã®è¦³ç‚¹ã‹ã‚‰ã€ã‚³ãƒ¼ãƒ‰ã®å…¨å®¹ã¯éžå…¬é–‹ã¨ã—ã¦ãŠã‚Šã¾ã™ã€‚
> 
> æœ¬ **ã€ŽLCRã€** ã¯ã€ãã®é–‹ç™ºéŽç¨‹ã§åŸ¹ã£ãŸã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆèƒ½åŠ›ã‚’è¨¼æ˜Žã™ã‚‹ãŸã‚ã®ã€**ã€Œæ±Žç”¨çš„ã‹ã¤éžä¾µå…¥çš„ãªãƒ¬ã‚¬ã‚·ãƒ¼æ•‘æ¸ˆã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã€** ã¨ã—ã¦ã€ãã®å…¨å®¹ã‚’å…¬é–‹ï¼ˆOSSåŒ–ï¼‰ã—ã¦ãŠã‚Šã¾ã™ã€‚
---

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€LCR ã®ã€Œå¤–éƒ¨ãƒ—ãƒ­ã‚»ã‚¹åˆ¶å¾¡ãƒ­ã‚¸ãƒƒã‚¯ã€ã‚’ç¶™æ‰¿ã—ã€ä»¥ä¸‹ã®3å±¤æ§‹é€ ã§æ§‹ç¯‰ã•ã‚Œã‚‹ã€‚

- **Analysis Layer**: ASTè§£æžãŠã‚ˆã³AIï¼ˆLLMï¼‰ã‚’ç”¨ã„ã¦ã€ã‚³ãƒ¼ãƒ‰ã®æŽ¨å®šå¹´ä»£ã¨å…¥å‡ºåŠ›ä»•æ§˜ã‚’ç‰¹å®šã€‚
- **Orchestration Layer**: Docker SDK/CLI ã‚’ç”¨ã„ã€ç‰¹å®šã•ã‚ŒãŸå¹´ä»£ã«æœ€é©ãªã‚³ãƒ³ãƒ†ãƒŠã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å‹•çš„ã«é…å‚™ãƒ»å®Ÿè¡Œã€‚
- **Interface Layer**: å®Ÿè¡Œãƒ­ã‚°ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤ºã¨ã€ãƒ›ã‚¹ãƒˆãƒ»ã‚³ãƒ³ãƒ†ãƒŠé–“ã®ãƒ•ã‚¡ã‚¤ãƒ«åŒæœŸç®¡ç†ã€‚

## 3. å‡¦ç†ãƒ•ãƒ­ãƒ¼


```mermaid
sequenceDiagram
    participant User as ãƒ¦ãƒ¼ã‚¶ãƒ¼
    participant Detector as å¹´ä»£åˆ¤å®šã‚¨ãƒ³ã‚¸ãƒ³(AST/AI)
    participant Manager as Container Manager
    participant Docker as Docker Container

    User->>Detector: ã‚³ãƒ¼ãƒ‰ã‚’æŠ•å…¥
    Detector->>Detector: æ§‹æ–‡è§£æžãƒ»ã‚·ã‚°ãƒãƒãƒ£ç…§åˆ
    Detector-->>User: æŽ¨å®šç’°å¢ƒï¼ˆä¾‹: Python 2.7 + OpenCV 2.4ï¼‰ã‚’ææ¡ˆ
    User->>Manager: å®Ÿè¡ŒæŒ‡ç¤º
    Manager->>Docker: ãƒœãƒªãƒ¥ãƒ¼ãƒ ãƒžã‚¦ãƒ³ãƒˆ & å®Ÿè¡Œ
    Docker-->>Manager: æ¨™æº–å‡ºåŠ› (stdout)
    Manager-->>User: ãƒ­ã‚°ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º